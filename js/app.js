webpackJsonp([1],[function(t,e,n){var r,i,o,a,s,u,l,c,h,p,f=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;i=n(2),c=n(15),p=n(57),s=n(25),i.sync=function(t,e,n){var r,i;if(r=e.id.split("/"),console.log("sync called with key: ",r),i="https://docs.google.com/spreadsheets/d/"+r[r.length-2]+"/gviz/tq?gid="+r[r.length-1],"read"===t)return new h.visualization.Query(i).send(function(t){return function(t){return t.isError()?n.error(t):n.success(t)}}(this))},a=n(8),o=n(19),u=n(21),r=l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.view={},e.prototype.egsElementProvider=null,e.prototype.dataSourceList=null,e.prototype.activeSource=null,e.prototype.activeConstruct=null,e.prototype.routes={"":"default",":skey":"loadSource",":skey/:sgid(/)":"loadSource",":skey/:sgid/:ckey/:cgid":"loadConstruct"},e.prototype.default=function(){return this.setActiveDataSource.call(this)},e.prototype.loadSource=function(t,e){return null==e&&(e=0),console.log("Routed to loadSource '"+t+"'/'"+e+"'"),this.setActiveDataSource.call(this,t+"/"+e)},e.prototype.loadConstruct=function(t,e,n,r){return console.log("Routed to loadConstruct '"+t+"'/'"+e+"'/'"+n+"'/'"+r+"'"),this.setActiveDataSource.call(this,t+"/"+e,function(i){return function(o){return i.setActiveConstruction.call(i,t+"/"+e+"/"+n+"/"+r,function(t){return i.view.EGS.showConstruct(t)})}}(this))},e.prototype.setActiveDataSource=function(t,e){return null==e&&(e=null),console.log("setActiveDataSource",t),t?(t=t.split("/"),t=t[0]+"/"+t[1],this.dataSourceList.get(t)||this.dataSourceList.add([{source:t}]),this.activeSource=this.dataSourceList.get(t).setSelected(e)):this.dataSourceList.length?this.activeSource=this.dataSourceList.at(0).setSelected(e):void 0},e.prototype.setActiveConstruction=function(t,e){var n;if(null==e&&(e=null),n=this.dataSourceList.selected,null!==n)return console.log("setActiveConstruction",t),n.get("constructions").get(t)||alert("ausgew√§hlte Konstruktion nicht in Datenquelle definiert!"),this.activeConstruct=n.get("constructions").get(t).setSelected(e)},e.prototype.initialize=function(t){var e,r,i,a,l,c,h;console.log("App Init"),this.dataSourceList=new o([{source:t.defaultSource}],{app:this}),this.egsElementProvider=new u,r=n(26),this.view.PrimaryNav=new r(this.dataSourceList),i=n(27),this.view.SecondaryNav=new i(this),e=n(24),this.view.DataSource=new e(this),this.view.EGS=new s(this,"display"),l=this.view,c=[];for(a in l)h=l[a],null!=h.startup?c.push(h.startup()):c.push(void 0);return c},e.prototype.start=function(){return console.log("App start"),i.history.start()},e}(i.Router),h=n(56),h.charts.load("44",{packages:["corechart"]}),h.setOnLoadCallback(function(t){var e;if(e=document.getElementsByTagName("body")[0],!p.App)return p.App=new r({defaultSource:e.getAttribute("data-defaultSource")}),p.App.start()})},function(t,e){t.exports=function(t,e,n){if(arguments.length<3)throw new Error("Handlebars Helper equal needs 2 parameters");return t!=e?n.inverse(this):n.fn(this)}},function(t,e,n){var r,i;(function(o){!function(a){var s="object"==typeof self&&self.self===self&&self||"object"==typeof o&&o.global===o&&o;r=[n(15),n(4),e],i=function(t,e,n){s.Backbone=a(s,n,t,e)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.4.0",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a,s=e.Events={},u=/\s+/,l=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=l(t,e,a[s],r[a[s]],o)}else if(r&&u.test(r))for(a=r.split(u);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};s.on=function(t,e,n){if(this._events=l(c,this._events||{},t,e,{context:n,ctx:this,listening:a}),a){var r=this._listeners||(this._listeners={});r[a.id]=a,a.interop=!1}return this},s.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=a=o[i];s||(this._listenId||(this._listenId=n.uniqueId("l")),s=a=o[i]=new g(this,t));var u=h(t,e,r,this);if(a=void 0,u)throw u;return s.interop&&s.on(e,r),this};var c=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t},h=function(t,e,n,r){try{t.on(e,n,r)}catch(t){return t}};s.off=function(t,e,n){return this._events?(this._events=l(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},s.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this),s.interop&&s.off(e,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var p=function(t,e,r,i){if(t){var o,a=i.context,s=i.listeners,u=0;if(e||a||r){for(o=e?[e]:n.keys(t);u<o.length;u++){e=o[u];var l=t[e];if(!l)break;for(var c=[],h=0;h<l.length;h++){var p=l[h];if(r&&r!==p.callback&&r!==p.callback._callback||a&&a!==p.context)c.push(p);else{var f=p.listening;f&&f.off(e,r)}}c.length?t[e]=c:delete t[e]}return t}for(o=n.keys(s);u<o.length;u++)s[o[u]].cleanup()}};s.once=function(t,e,n){var r=l(f,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},s.listenToOnce=function(t,e,n){var r=l(f,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var f=function(t,e,r,i){if(r){var o=t[e]=n.once(function(){i(e,o),r.apply(this,arguments)});o._callback=r}return t};s.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return l(d,this._events,t,void 0,n),this};var d=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&v(i,r),o&&v(o,[e].concat(r))}return t},v=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},g=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=s.on,g.prototype.off=function(t,e){var n;this.interop?(this._events=l(p,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(e,s);var m=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(m.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,h=this._previousAttributes;for(var p in i)e=i[p],n.isEqual(l[p],e)||s.push(p),n.isEqual(h[p],e)?delete c[p]:c[p]=e,o?delete l[p]:l[p]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,l[s[f]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in t){var a=t[o];n.isEqual(r[o],a)||(i[o]=a,e=!0)}return!!e&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return!!e.set(i,t)&&(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},Y(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,u=this.attributes;r.success=function(t){a.attributes=u;var e=r.parse?a.parse(t,r):t;return o&&(e=n.extend({},i,e)),!(e&&!a.set(e,r))&&(s&&s.call(r.context,a,t,r),void a.trigger("sync",a,t,r))},Y(this,r),i&&o&&(this.attributes=n.extend({},u,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var c=this.sync(l,this,r);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(Y(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||X();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},_=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(y.prototype,s,{model:m,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},b,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,s=[],u=[],l=[],c=[],h={},p=e.add,f=e.merge,d=e.remove,v=!1,g=this.comparator&&null==i&&e.sort!==!1,m=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(f&&o!==y){var w=this._isModel(o)?o.attributes:o;e.parse&&(w=y.parse(w,e)),y.set(w,e),l.push(y),g&&!v&&(v=y.hasChanged(m))}h[y.cid]||(h[y.cid]=!0,s.push(y)),t[a]=y}else p&&(o=t[a]=this._prepareModel(o,e),o&&(u.push(o),this._addReference(o,e),h[o.cid]=!0,s.push(o)))}if(d){for(a=0;a<this.length;a++)o=this.models[a],h[o.cid]||c.push(o);c.length&&this._removeModels(c,e)}var x=!1,S=!g&&p&&d;if(s.length&&S?(x=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,_(this.models,s,0),this.length=this.models.length):u.length&&(g&&(v=!0),_(this.models,u,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<u.length;a++)null!=i&&(e.index=i+a),o=u[a],o.trigger("add",o,this,e);(v||x)&&this.trigger("sort",this,e),(u.length||c.length||l.length)&&(e.changes={added:u,removed:c,merged:l},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},Y(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new S(this,M)},keys:function(){return new S(this,k)},entries:function(){return new S(this,E)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var x="function"==typeof Symbol&&Symbol.iterator;x&&(y.prototype[x]=y.prototype.values);var S=function(t,e){this._collection=t,this._kind=e,this._index=0},M=1,k=2,E=3;x&&(S.prototype[x]=function(){return this}),S.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t=this._collection.at(this._index);this._index++;var e;if(this._kind===M)e=t;else{var n=this._collection.modelId(t.attributes);e=this._kind===k?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var P=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,C)),this._ensureElement(),this.initialize.apply(this,arguments)},I=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];n.extend(P.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(I);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var A=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,i){return t[n](this[r],R(e,this),i)};case 4:return function(e,i,o){return t[n](this[r],R(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}},O=function(t,e,r,i){n.each(r,function(n,r){e[r]&&(t.prototype[r]=A(e,n,r,i))})},R=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?T(t):n.isString(t)?function(e){return e.get(t)}:t},T=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},j={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},H={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,j,"models"],[m,H,"attributes"]],function(t){var e=t[0],r=t[1],i=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),function(t,e){return t[e]=0,t},{});O(e,t,r,i)},O(e,n,r,i)}),e.sync=function(t,r,i){var o=L[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||X()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,l,i),l};var L={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var N=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},V=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,D=/\*\w+/g,G=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(N.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);o.execute(i,a,r)!==!1&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(G,"\\$&").replace(V,"(?:$1)?").replace(B,function(t,e){return e?t:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var z=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,$=/^\/+|\/+$/g,U=/#.*$/;z.started=!1,n.extend(z.prototype,s,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(F,"")},start:function(t){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace($,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!z.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(U,"");var i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new z;var q=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};m.extend=y.extend=N.extend=P.extend=z.extend=q;var X=function(){throw new Error('A "url" property or function must be specified')},Y=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){return c[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function i(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return p.test(t)?t.replace(h,n):t}function a(t){return!t&&0!==t||!(!v(t)||0!==t.length)}function s(t){var e=r({},t);return e._parent=t,e}function u(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=r,e.indexOf=i,e.escapeExpression=o,e.isEmpty=a,e.createFrame=s,e.blockParams=u,e.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,p=/[&<>"'`=]/,f=Object.prototype.toString;e.toString=f;var d=function(t){return"function"==typeof t};d(/x/)&&(e.isFunction=d=function(t){return"function"==typeof t&&"[object Function]"===f.call(t)}),e.isFunction=d;var v=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===f.call(t)};e.isArray=v},,function(t,e){"use strict";function n(t,e){var i=e&&e.loc,o=void 0,a=void 0,s=void 0,u=void 0;i&&(o=i.start.line,a=i.end.line,s=i.start.column,u=i.end.column,t+=" - "+o+":"+s);for(var l=Error.prototype.constructor.call(this,t),c=0;c<r.length;c++)this[r[c]]=l[r[c]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{i&&(this.lineNumber=o,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=s,this.endColumn=u))}catch(t){}}e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];n.prototype=new Error,e.default=n,t.exports=e.default},,function(t,e){t.exports=function(t,e,n){var r,i,o;return null==e&&(e=!1),null==n&&(n=null),o=new RegExp("spreadsheets/d/([^/]+)[^#]*(?:#.*gid=([0-9]+).*)?"),(i=o.exec(t))?(i[2]&&(r=i[2]),[i[1],r]):(o=new RegExp("([0-9]+)"),i=o.exec(t),i&&n?(n=n.split("/"),i[1]&&(r=i[1]),[n[0],r]):(o=new RegExp("([^/]+)(?:/([0-9]+))?"),(i=o.exec(t))?(i[2]&&(r=i[2]),[i[1],r]):!e&&(alert("Ung√ºltige Datenquelle: In '"+t+"' konnte nicht der Tabellen-Key gefunden werden!"),["",0])))}},function(t,e,n){var r,i,o,a,s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=n(2),i=n(18),a=n(7),t.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.app=null,e.prototype.fetched=!1,e.prototype.dataTable=null,e.prototype.columns={sheet:"Blatt-Link (gid)",name:"Konstruktion",desc:"Beschreibung"},e.prototype.idAttribute="source",e.prototype.initialize=function(t,e){return this.app=e.collection.app,this.set("constructions",new i([],{app:this.app}))},e.prototype.setSelected=function(t){return this.collection.setSelected(this),this.fetched?t?t(this):void 0:this.fetch({success:function(e){return function(){if(e.fetched=!0,t)return t(e)}}(this)})},e.prototype.set=function(t,e){return t.source&&(t.source=a(t.source).join("/")),r.Model.prototype.set.call(this,t,e)},e.prototype.parse=function(t){var e,n,r,o,s,u,l,c,h,p,f,d,v;this.dataTable=t.getDataTable(),o=this.dataTable.getColumnLabel(0).length?0:1,l=0===o;for(h in this.columns)this.columns[h]===this.dataTable.getColumnLabel(0)&&(l=!1);if(l)return{constructions:new i([{name:"Konstruktion",desc:"",sheet:this.id}])};for(r=[],p=s=f=o,d=this.dataTable.getNumberOfRows();f<=d?s<d:s>d;p=f<=d?++s:--s){n={};for(h in this.columns){for(u=function(t){return t},"sheet"===h&&(u=function(t){return function(e){return[t.id,a(e,!1,t.id).join("/")].join("/")}}(this)),e=c=0,v=this.dataTable.getNumberOfColumns();0<=v?c<v:c>v;e=0<=v?++c:--c)(o&&this.dataTable.getValue(0,e)===this.columns[h]||this.dataTable.getColumnLabel(e)===this.columns[h])&&(n[h]=u(this.dataTable.getValue(p,e)));if(!n[h])return void alert("√úbersichtstabelle: Spalte '"+this.columns[h]+"' wurde nicht in der Tabelle gefunden!")}r.push(n)}return console.log("DataSource: loaded construction list: ",r),{constructions:new i(r,{app:this.app})}},e}(r.Model)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},u.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=i;var o=n(3),a=n(5),s=r(a),u=n(10),l=n(33),c=n(12),h=r(c),p=n(11),f="4.7.6";e.VERSION=f;var d=8;e.COMPILER_REVISION=d;var v=7;e.LAST_COMPATIBLE_COMPILER_REVISION=v;var g={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};e.REVISION_CHANGES=g;var m="[object Object]";
i.prototype={constructor:i,logger:h.default,log:h.default.log,registerHelper:function(t,e){if(o.toString.call(t)===m){if(e)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===m)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===m){if(e)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){p.resetLoggedProperties()}};var y=h.default.log;e.log=y,e.createFrame=o.createFrame,e.logger=h.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){s.default(t),l.default(t),h.default(t),f.default(t),v.default(t),m.default(t),b.default(t)}function o(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])}e.__esModule=!0,e.registerDefaultHelpers=i,e.moveHelperToHooks=o;var a=n(35),s=r(a),u=n(36),l=r(u),c=n(37),h=r(c),p=n(38),f=r(p),d=n(39),v=r(d),g=n(40),m=r(g),y=n(41),b=r(y)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:l.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:l.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}}function o(t,e,n){return"function"==typeof t?a(e.methods,n):a(e.properties,n)}function a(t,e){return void 0!==t.whitelist[e]?t.whitelist[e]===!0:void 0!==t.defaultValue?t.defaultValue:(s(e),!1)}function s(t){p[t]!==!0&&(p[t]=!0,h.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}function u(){Object.keys(p).forEach(function(t){delete p[t]})}e.__esModule=!0,e.createProtoAccessControl=i,e.resultIsAllowed=o,e.resetLoggedProperties=u;var l=n(42),c=n(12),h=r(c),p=Object.create(null)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[e].apply(console,r)}}};e.default=i,t.exports=e.default},function(t,e,n){t.exports=n(32).default},,function(t,e,n){(function(e){!function(e,n){t.exports=n()}(this,function(){function t(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function n(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function r(t){return null===t}function i(t){return void 0===t}function o(t){return t===!0||t===!1||"[object Boolean]"===le.call(t)}function a(t){return!(!t||1!==t.nodeType)}function s(t){var e="[object "+t+"]";return function(t){return le.call(t)===e}}function u(t){return null!=t&&Oe(t.getInt8)&&Ie(t.buffer)}function l(t,e){return null!=t&&ce.call(t,e)}function c(t){return!Pe(t)&&ye(t)&&!isNaN(parseFloat(t))}function h(t){return Se(t)&&me(t)}function p(t){return function(){return t}}function f(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=_e}}function d(t){return function(e){return null==e?void 0:e[t]}}function v(t){return ge?ge(t)&&!Le(t):Ge(t)&&ze.test(le.call(t))}function g(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}function m(t,e){e=g(e);var n=we.length,r=t.constructor,i=Oe(r)&&r.prototype||oe,o="constructor";for(l(t,o)&&!e.contains(o)&&e.push(o);n--;)o=we[n],o in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function y(t){if(!n(t))return[];if(de)return de(t);var e=[];for(var r in t)l(t,r)&&e.push(r);return be&&m(t,e),e}function b(t){if(null==t)return!0;var e=$e(t);return"number"==typeof e&&(Ne(t)||xe(t)||Be(t))?0===e:0===$e(y(t))}function w(t,e){var n=y(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function _(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)}function x(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,De(t))}function S(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&M(t,e,n,r)}function M(t,e,n,r){t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var i=le.call(t);if(i!==le.call(e))return!1;if(Te&&"[object Object]"==i&&Le(t)){if(!Le(e))return!1;i=Ue}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e;case"[object Symbol]":return ae.valueOf.call(t)===ae.valueOf.call(e);case"[object ArrayBuffer]":case Ue:return M(x(t),x(e),n,r)}var o="[object Array]"===i;if(!o&&Fe(t)){var a=De(t);if(a!==De(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,u=e.constructor;if(s!==u&&!(Oe(s)&&s instanceof s&&Oe(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!S(t[c],e[c],n,r))return!1}else{var h,p=y(t);if(c=p.length,y(e).length!==c)return!1;for(;c--;)if(h=p[c],!l(e,h)||!S(t[h],e[h],n,r))return!1}return n.pop(),r.pop(),!0}function k(t,e){return S(t,e)}function E(t){if(!n(t))return[];var e=[];for(var r in t)e.push(r);return be&&m(t,e),e}function P(t){var e=$e(t);return function(n){if(null==n)return!1;var r=E(n);if($e(r))return!1;for(var i=0;i<e;i++)if(!Oe(n[t[i]]))return!1;return t!==Ke||!Oe(n[qe])}}function I(t){for(var e=y(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function C(t){for(var e=y(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function A(t){for(var e={},n=y(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function O(t){var e=[];for(var n in t)Oe(t[n])&&e.push(n);return e.sort()}function R(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}}function T(){return function(){}}function j(t){if(!n(t))return{};if(ve)return ve(t);var e=T();e.prototype=t;var r=new e;return e.prototype=null,r}function H(t,e){var n=j(t);return e&&on(n,e),n}function L(t){return n(t)?Ne(t)?t.slice():rn({},t):t}function N(t,e){return e(t),t}function V(t){return Ne(t)?t:[t]}function B(t){return _.toPath(t)}function D(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function G(t,e,n){var r=D(t,B(e));return i(r)?n:r}function z(t,e){e=B(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!l(t,i))return!1;t=t[i]}return!!n}function F(t){return t}function $(t){return t=on({},t),function(e){return w(e,t)}}function U(t){return t=B(t),function(e){return D(e,t)}}function q(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function X(t,e,r){return null==t?F:Oe(t)?q(t,e,r):n(t)&&!Ne(t)?$(t):U(t)}function Y(t,e){return X(t,e,1/0)}function W(t,e,n){return _.iteratee!==Y?_.iteratee(t,e):X(t,e,n)}function J(t,e,n){e=W(e,n);for(var r=y(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o}function K(){}function Z(t){return null==t?K:function(e){return G(t,e)}}function Q(t,e,n){var r=Array(Math.max(0,t));e=q(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function tt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}function et(t){var e=function(e){return t[e]},n="(?:"+y(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}function nt(t){return"\\"+dn[t]}function rt(t,e,n){!e&&n&&(e=n),e=an({},e,_.templateSettings);var r=RegExp([(e.escape||fn).source,(e.interpolate||fn).source,(e.evaluate||fn).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(vn,nt),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var a;try{a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,_)},u=e.variable||"obj";return s.source="function("+u+"){\n"+o+"}",s}function it(t,e,n){e=B(e);var r=e.length;if(!r)return Oe(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=Oe(o)?o.call(t):o}return t}function ot(t){var e=++gn+"";return t?t+e:e}function at(t){var e=_(t);return e._chain=!0,e}function st(t,e,r,i,o){if(!(i instanceof e))return t.apply(r,o);var a=j(t.prototype),s=t.apply(a,o);return n(s)?s:a}function ut(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=$e(t);o<a;o++){var s=t[o];if(bn(s)&&(Ne(s)||Be(s)))if(e>1)ut(s,e-1,n,r),i=r.length;else for(var u=0,l=s.length;u<l;)r[i++]=s[u++];else n||(r[i++]=s)}return r}function lt(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return l(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}function ct(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=n.leading===!1?0:sn(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=sn();s||n.leading!==!1||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||n.trailing===!1||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}function ht(e,n,r){var i,o,a=function(t,n){i=null,n&&(o=e.apply(t,n))},s=t(function(t){if(i&&clearTimeout(i),r){var s=!i;i=setTimeout(a,n),s&&(o=e.apply(this,t))}else i=_n(a,n,this,t);return o});return s.cancel=function(){clearTimeout(i),i=null},s}function pt(t,e){return mn(e,t)}function ft(t){return function(){return!t.apply(this,arguments)}}function dt(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function vt(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function gt(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}function mt(t,e,n){e=W(e,n);for(var r,i=y(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r}function yt(t){return function(e,n,r){n=W(n,r);for(var i=$e(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function bt(t,e,n,r){n=W(n,r,1);for(var i=n(e),o=0,a=$e(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o}function wt(t,e,n){return function(r,i,o){var a=0,s=$e(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(ue.call(r,a,s),h),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}}function _t(t,e,n){var r=bn(t)?Mn:mt,i=r(t,e,n);if(void 0!==i&&i!==-1)return t[i]}function xt(t,e){return _t(t,$(e))}function St(t,e,n){e=q(e,n);var r,i;if(bn(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=y(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function Mt(t,e,n){e=W(e,n);for(var r=!bn(t)&&y(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o}function kt(t){var e=function(e,n,r,i){var o=!bn(e)&&y(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var u=o?o[s]:s;r=n(r,e[u],u,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,q(n,i,4),r,o)}}function Et(t,e,n){var r=[];return e=W(e,n),St(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function Pt(t,e,n){return Et(t,ft(W(e)),n)}function It(t,e,n){e=W(e,n);for(var r=!bn(t)&&y(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function Ct(t,e,n){e=W(e,n);for(var r=!bn(t)&&y(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function At(t,e,n,r){return bn(t)||(t=I(t)),("number"!=typeof n||r)&&(n=0),En(t,e,n)>=0}function Ot(t,e){return Mt(t,U(e))}function Rt(t,e){return Et(t,$(e))}function Tt(t,e,n){var r,i,o=-(1/0),a=-(1/0);if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=bn(t)?t:I(t);for(var s=0,u=t.length;s<u;s++)r=t[s],null!=r&&r>o&&(o=r)}else e=W(e,n),St(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=t,a=i)});return o}function jt(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=bn(t)?t:I(t);for(var s=0,u=t.length;s<u;s++)r=t[s],null!=r&&r<o&&(o=r)}else e=W(e,n),St(t,function(t,n,r){i=e(t,n,r),(i<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o}function Ht(t,e,n){if(null==e||n)return bn(t)||(t=I(t)),t[tt(t.length-1)];var r=bn(t)?L(t):I(t),i=$e(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=tt(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)}function Lt(t){return Ht(t,1/0)}function Nt(t,e,n){var r=0;return e=W(e,n),Ot(Mt(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")}function Vt(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=W(r,i),St(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}}function Bt(t){return t?Ne(t)?ue.call(t):xe(t)?t.match(Hn):bn(t)?Mt(t,F):I(t):[]}function Dt(t){return null==t?0:bn(t)?t.length:y(t).length}function Gt(t,e,n){return e in n}function zt(t,e,n){return ue.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Ft(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:zt(t,t.length-e)}function $t(t,e,n){return ue.call(t,null==e||n?1:e)}function Ut(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:$t(t,Math.max(0,t.length-e))}function qt(t){return Et(t,Boolean)}function Xt(t,e){return ut(t,e,!1)}function Yt(t,e,n,r){o(e)||(r=n,n=e,e=!1),null!=n&&(n=W(n,r));for(var i=[],a=[],s=0,u=$e(t);s<u;s++){var l=t[s],c=n?n(l,s,t):l;e&&!n?(s&&a===c||i.push(l),a=c):n?At(a,c)||(a.push(c),i.push(l)):At(i,l)||i.push(l)}return i}function Wt(t){for(var e=[],n=arguments.length,r=0,i=$e(t);r<i;r++){var o=t[r];if(!At(e,o)){var a;for(a=1;a<n&&At(arguments[a],o);a++);a===n&&e.push(o)}}return e}function Jt(t){for(var e=t&&Tt(t,$e).length||0,n=Array(e),r=0;r<e;r++)n[r]=Ot(t,r);return n}function Kt(t,e){for(var n={},r=0,i=$e(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function Zt(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function Qt(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(ue.call(t,r,r+=e));return n}function te(t,e){return t._chain?_(e).chain():e}function ee(t){return St(O(t),function(e){var n=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return se.apply(t,arguments),te(this,n.apply(_,t))}}),_}var ne="1.12.0",re="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||Function("return this")()||{},ie=Array.prototype,oe=Object.prototype,ae="undefined"!=typeof Symbol?Symbol.prototype:null,se=ie.push,ue=ie.slice,le=oe.toString,ce=oe.hasOwnProperty,he="undefined"!=typeof ArrayBuffer,pe="undefined"!=typeof DataView,fe=Array.isArray,de=Object.keys,ve=Object.create,ge=he&&ArrayBuffer.isView,me=isNaN,ye=isFinite,be=!{toString:null}.propertyIsEnumerable("toString"),we=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_e=Math.pow(2,53)-1,xe=s("String"),Se=s("Number"),Me=s("Date"),ke=s("RegExp"),Ee=s("Error"),Pe=s("Symbol"),Ie=s("ArrayBuffer"),Ce=s("Function"),Ae=re.document&&re.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Ae&&(Ce=function(t){return"function"==typeof t||!1});var Oe=Ce,Re=s("Object"),Te=pe&&Re(new DataView(new ArrayBuffer(8))),je="undefined"!=typeof Map&&Re(new Map),He=s("DataView"),Le=Te?u:He,Ne=fe||s("Array"),Ve=s("Arguments");!function(){Ve(arguments)||(Ve=function(t){return l(t,"callee")})}();var Be=Ve,De=d("byteLength"),Ge=f(De),ze=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Fe=he?v:p(!1),$e=d("length");_.VERSION=ne,_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)};var Ue="[object DataView]",qe="forEach",Xe="has",Ye=["clear","delete"],We=["get",Xe,"set"],Je=Ye.concat(qe,We),Ke=Ye.concat(We),Ze=["add"].concat(Ye,qe,Xe),Qe=je?P(Je):s("Map"),tn=je?P(Ke):s("WeakMap"),en=je?P(Ze):s("Set"),nn=s("WeakSet"),rn=R(E),on=R(y),an=R(E,!0);_.toPath=V,_.iteratee=Y;var sn=Date.now||function(){return(new Date).getTime()},un={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ln=et(un),cn=A(un),hn=et(cn),pn=_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},fn=/(.)^/,dn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},vn=/\\|'|\r|\n|\u2028|\u2029/g,gn=0,mn=t(function(t,e){var n=mn.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return st(t,r,this,this,a)};return r});mn.placeholder=_;var yn=t(function(e,n,r){if(!Oe(e))throw new TypeError("Bind must be called on a function");var i=t(function(t){return st(e,i,n,this,r.concat(t))});return i}),bn=f($e),wn=t(function(t,e){e=ut(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=yn(t[r],t)}return t}),_n=t(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),xn=mn(_n,_,1),Sn=mn(gt,2),Mn=yt(1),kn=yt(-1),En=wt(1,Mn,bt),Pn=wt(-1,kn),In=kt(1),Cn=kt(-1),An=t(function(t,e,n){var r,i;return Oe(e)?i=e:(e=B(e),r=e.slice(0,-1),e=e[e.length-1]),Mt(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=D(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),On=Vt(function(t,e,n){l(t,n)?t[n].push(e):t[n]=[e]}),Rn=Vt(function(t,e,n){t[n]=e}),Tn=Vt(function(t,e,n){l(t,n)?t[n]++:t[n]=1}),jn=Vt(function(t,e,n){t[n?0:1].push(e)},!0),Hn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Ln=t(function(t,e){var n={},r=e[0];if(null==t)return n;Oe(r)?(e.length>1&&(r=q(r,e[1])),e=E(t)):(r=Gt,e=ut(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),Nn=t(function(t,e){var n,r=e[0];return Oe(r)?(r=ft(r),e.length>1&&(n=e[1])):(e=Mt(ut(e,!1,!1),String),r=function(t,n){return!At(e,n)}),Ln(t,r,n)}),Vn=t(function(t,e){return e=ut(e,!0,!0),Et(t,function(t){return!At(e,t)})}),Bn=t(function(t,e){return Vn(t,e)}),Dn=t(function(t){return Yt(ut(t,!0,!0))}),Gn=t(Jt);St(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=ie[t];_.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),te(this,n)}}),St(["concat","join","slice"],function(t){var e=ie[t];_.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),te(this,t)}});var zn={__proto__:null,VERSION:ne,restArguments:t,isObject:n,isNull:r,isUndefined:i,isBoolean:o,isElement:a,isString:xe,isNumber:Se,isDate:Me,isRegExp:ke,isError:Ee,isSymbol:Pe,isArrayBuffer:Ie,isDataView:Le,isArray:Ne,isFunction:Oe,isArguments:Be,isFinite:c,isNaN:h,isTypedArray:Fe,isEmpty:b,isMatch:w,isEqual:k,isMap:Qe,isWeakMap:tn,isSet:en,isWeakSet:nn,keys:y,allKeys:E,values:I,pairs:C,invert:A,functions:O,methods:O,extend:rn,extendOwn:on,assign:on,defaults:an,create:H,clone:L,tap:N,get:G,has:z,mapObject:J,identity:F,constant:p,noop:K,toPath:V,property:U,propertyOf:Z,matcher:$,matches:$,times:Q,random:tt,now:sn,escape:ln,unescape:hn,templateSettings:pn,template:rt,result:it,uniqueId:ot,chain:at,iteratee:Y,partial:mn,bind:yn,bindAll:wn,memoize:lt,delay:_n,defer:xn,throttle:ct,debounce:ht,wrap:pt,negate:ft,compose:dt,after:vt,before:gt,once:Sn,findKey:mt,findIndex:Mn,findLastIndex:kn,sortedIndex:bt,indexOf:En,lastIndexOf:Pn,find:_t,detect:_t,findWhere:xt,each:St,forEach:St,map:Mt,collect:Mt,reduce:In,foldl:In,inject:In,reduceRight:Cn,foldr:Cn,filter:Et,select:Et,reject:Pt,every:It,all:It,some:Ct,any:Ct,contains:At,includes:At,include:At,invoke:An,pluck:Ot,where:Rt,max:Tt,min:jt,shuffle:Lt,sample:Ht,sortBy:Nt,groupBy:On,indexBy:Rn,countBy:Tn,partition:jn,toArray:Bt,size:Dt,pick:Ln,omit:Nn,first:Ft,head:Ft,take:Ft,initial:zt,last:Ut,rest:$t,tail:$t,drop:$t,compact:qt,flatten:Xt,without:Bn,uniq:Yt,unique:Yt,union:Dn,intersection:Wt,difference:Vn,unzip:Jt,transpose:Jt,zip:Gn,object:Kt,range:Zt,chunk:Qt,mixin:ee,default:_},Fn=ee(zn);return Fn._=Fn,Fn})}).call(e,function(){return this}())},,,function(t,e,n){var r,i,o,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(2),i=n(22),t.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.app=null,e.prototype.model=i,e.prototype.selected=null,e.prototype.setSelected=function(t){if(console.log("CL select: ",t,this.selected),t!==this.selected)return this.selected&&this.trigger("unselect",this.selected),this.selected=t,console.log("CL triggered select"),this.trigger("select",this.selected),this.selected.fetched?this.trigger("sync"):void 0},e.prototype.initialize=function(t,e){return this.app=e.app},e}(r.Collection)},function(t,e,n){var r,i,o,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(2),i=n(8),t.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.app=null,e.prototype.model=i,e.prototype.selected=null,e.prototype.setSelected=function(t){if(t!==this.selected)return this.selected&&this.trigger("unselect",this.selected),this.selected=t,this.trigger("select",this.selected),this.selected.fetched?this.trigger("sync"):void 0},e.prototype.initialize=function(t,e){return this.app=e.app,console.log("init DataSourceList",this.app)},e}(r.Collection)},function(t,e,n){var r,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(2),i=n(23),t.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.model=i,e.prototype.initialize=function(t,e){return this.app=e.app},e}(r.Collection)},function(t,e,n){var r,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=n(6),n(55),i.ThreadCurve=function(t){function e(t,n,r){this.height=t,this.pitch=n,this.radius=r,e.__super__.constructor.call(this)}return o(e,t),e.prototype.getPoint=function(t){return t=t*this.height/this.pitch,new i.Vector3(this.radius*Math.cos(2*Math.PI*(t-Math.floor(t))),this.radius*Math.sin(2*Math.PI*(t-Math.floor(t))),t*this.pitch)},e}(i.Curve),i.CustomGeometry=function(t){function e(t,n){var r,o,a,s,u,l;for(e.__super__.constructor.call(this),o=0,s=t.length;o<s;o++)l=t[o],this.vertices.push(new i.Vector3(l[0],l[1],l[2]));for(a=0,u=n.length;a<u;a++)r=n[a],this.faces.push(new i.Face3(r[0],r[1],r[2]));this.computeBoundingSphere(),this.computeFaceNormals(),this.computeVertexNormals(),this.calcUVs()}return o(e,t),e.prototype.calcUVs=function(){var t,e,n,r,o,a,s,u,l,c,h;for(this.computeBoundingBox(),r=this.boundingBox.max,o=this.boundingBox.min,a=new i.Vector2(0-o.x,0-o.y),s=new i.Vector2(r.x-o.x,r.y-o.y),this.faceVertexUvs[0]=[],t=this.faces,e=n=0,u=this.faces.length;0<=u?n<u:n>u;e=0<=u?++n:--n)l=this.vertices[this.faces[e].a],c=this.vertices[this.faces[e].b],h=this.vertices[this.faces[e].c],this.faceVertexUvs[0].push([new i.Vector2((l.x+a.x)/s.x,(l.y+a.y)/s.y),new i.Vector2((c.x+a.x)/s.x,(c.y+a.y)/s.y),new i.Vector2((h.x+a.x)/s.x,(h.y+a.y)/s.y)]);return this.uvsNeedUpdate=!0},e}(i.Geometry),r=function(){function t(){console.log("EGS_Elements constructed")}var e,n,r,o,a,s,u,l,c,h,p,f,d,v,g,m,y,b,w,_,x,S,M,k,E,P,I,C,A,O,R,T,j,H,L,N,V,B;return s=8,a=.5*Math.PI,r=Math.PI,o=2*Math.PI,y=new i.Vector3(1,0,0),b=new i.Vector3(0,1,0),w=new i.Vector3(0,0,1),d=123.6,p=48.3,f=45.1,v=9,H=function(t,e,n,r,o){var s;return s=(new i.Matrix4).makeTranslation(t,e,n),"X"===r&&s.multiply((new i.Matrix4).makeRotationX(o*a)),"Y"===r&&s.multiply((new i.Matrix4).makeRotationY(o*a)),"Z"===r&&s.multiply((new i.Matrix4).makeRotationZ(o*a)),s},P=function(t,e,n,r){var o,a;return o=new i.CircleGeometry(r,s),a=o.vertices,a.push(new i.Vector3(t/2,e/2,n)),a.push(new i.Vector3(-t/2,e/2,n)),a.push(new i.Vector3(-t/2,-e/2,n)),a.push(new i.Vector3(t/2,-e/2,n)),new i.ConvexGeometry(a)},A=function(t,e,n){var r,a;return a=new i.Shape,a.absarc(0,0,t/2,0,o,!0),e&&(r=new i.Path,r.absarc(0,0,e/2,0,o,!0),a.holes.push(r)),a.extrude({amount:n,steps:1,bevelEnabled:!1,curveSegments:s})},O=function(t,e,n){var r,a;return a=new i.Shape,a.absarc(0,0,t/2,0,o,!0),e&&(r=new i.Path,r.absarc(0,0,e/2,0,o,!0),a.holes.push(r)),a.extrude({steps:10,extrudePath:n})},B=function(t){var e,n,r,a,u,l;return s>=16?(a=13,r=8):(a=18,r=15),u=new i.Shape,u.absarc(0,0,a,0,o,!0),r&&(n=new i.Path,n.absarc(0,0,r,0,o,!0),u.holes.push(n)),e=u.extrude({amount:t,steps:1,bevelEnabled:!1,curveSegments:s}),s>=16&&(t-=10,l=new i.TubeGeometry(new i.ThreadCurve(t,10,13),s*t/10,4),e.merge(l,H(0,0,5))),e},L=function(t){return A(p,f,t)},_=function(){var t;return t=new i.Geometry,t.merge(L(165),H(0,0,-65)),t.merge(V()),t.merge(A(55,49,170),H(0,0,95)),t.applyMatrix(H(0,0,0,"X",-1)),t},I=function(t){var e,n,r,o,a;return o=new i.Shape,a=30,n=25,r=33,o.moveTo(0,0),o.lineTo(30,0),o.arc(25,0,n,0,Math.PI),o.lineTo(17+r+r,0),o.arc(-33,0,r,.7*Math.PI,0),o.lineTo(30,35),o.lineTo(0,35),o.lineTo(0,0),e=o.extrude({amount:40,steps:1,bevelEnabled:!1,curveSegments:s}),e.applyMatrix(H(t,0,55,"Y",1)),e},C=function(t,e){var n,r,o;return r=50,o=[[0,45,r],[e,45,r],[e,45,t-r],[0,45,t-r],[0,-30,r],[e,-30,r],[e,-30,t-r],[0,-30,t-r],[5,-30,r+5],[e-5,-30,r+5],[e-5,-30,t-r-5],[5,-30,t-r-5],[5,40,r+5],[e-5,40,r+5],[e-5,40,t-r-5],[5,40,t-r-5]],n=[[0,2,1],[0,3,2],[12,13,14],[12,14,15],[0,1,5],[0,5,4],[1,2,6],[1,6,5],[2,3,7],[2,7,6],[3,0,4],[3,4,7],[4,5,9],[4,9,8],[5,6,10],[5,10,9],[6,7,11],[6,11,10],[7,4,8],[7,8,11],[8,9,13],[8,13,12],[9,10,14],[9,14,13],[10,11,15],[10,15,14],[11,8,12],[11,12,15]],new i.CustomGeometry(o,n)},x=function(t,e,n){var r;return null==n&&(n=0),r=new i.Geometry,r.merge(I(1),H(60,0,0)),r.merge(I(1),H(e-60,0,0)),r.merge(C(t,e),H(0,0,0)),r.merge(I(1),H(60,0,t,"Y",2)),r.merge(I(1),H(e-60,0,t,"Y",2)),r.applyMatrix(H(55+n,0,0)),r},T=function(t,e){var n,r,o,a,s,u,l,c;for(null==e&&(e=1),c=35,l=[[25,7,38],[26,0,38],[25,-7,38],[25,7,11],[26,0,11],[25,-7,11],[25,7,-1],[26,0,-1],[25,-7,-1],[25,7,-35],[26,0,-35],[25,-7,-35],[65,12,24],[65,-12,24],[65,22,11],[65,-22,11],[65,22,-1],[65,-22,-1],[65,12,-24],[65,-12,-24],[65,1*e,20],[65,1*e,-20],[65,11*e,-20],[65,11*e,20],[65+c,1*e+c*e,20],[65+c,1*e+c*e,-20],[65+c-5,6*e+c*e,-20],[65+c-5,6*e+c*e,20]],n=[[0,1,12],[1,13,12],[1,2,13],[9,18,10],[10,18,19],[10,19,11],[1,0,4],[4,0,3],[2,1,5],[5,1,4],[7,6,10],[10,6,9],[8,7,11],[11,7,10],[4,3,14],[4,14,15],[5,4,15],[6,7,16],[7,17,16],[7,8,17],[14,17,15],[14,16,17],[14,15,17],[14,17,16],[3,0,14],[0,12,14],[16,9,6],[18,9,16],[2,5,15],[2,15,13],[17,8,11],[17,11,19],[12,13,14],[13,15,14],[16,17,18],[17,19,18]],r=[[20,21,25],[20,25,24],[22,23,27],[22,27,26],[20,27,23],[20,24,27],[21,22,26],[21,26,25],[24,25,26],[24,26,27]],a=0,u=r.length;a<u;a++)o=r[a],e>0?n.push(o):n.push([o[1],o[0],o[2]]);return s=new i.CustomGeometry(l,n),s.applyMatrix(H(0,0,0,"Z",.5*e*t)),s},k=function(t,e,n){var r,o,s,u,l;return null==e&&(e=1),null==n&&(n=2e3),l=new i.Geometry,u=new i.Geometry,e*=-1,r=Math.sqrt(Math.pow(t-155,2)+Math.pow(n,2)),o=Math.atan2(t-155,n),l.merge(T(-1,1*e)),l.merge(T(-1,-1*e),H(t,0,n,"Z",2)),s=e>0?14:7,u.merge(new i.BoxGeometry(35,10,60),H(0,0,10)),u.merge(A(16,0,21),H(0,s,0,"X",1)),u.merge(P(35,10,70,p/2),H(0,0,110,"X",2)),u.merge(A(p,f,r-220),H(0,0,110)),u.merge(P(35,10,70,p/2),H(0,0,r-110)),u.merge(new i.BoxGeometry(35,10,60),H(0,0,r-10)),u.merge(A(16,0,21),H(0,s,r,"X",1)),l.merge(u,H(77.5,-50*e,0,"Y",o/a)),l},j=function(){var t,e;return e=[[25,7,38],[26,0,38],[25,-7,38],[25,7,11],[26,0,11],[25,-7,11],[25,7,-1],[26,0,-1],[25,-7,-1],[25,7,-35],[26,0,-35],[25,-7,-35],[65,12,24],[65,-12,24],[65,22,11],[65,-22,11],[65,22,-1],[65,-22,-1],[65,12,-24],[65,-12,-24],[77,0,24],[77,-17,17],[77,-24,0],[77,-17,-17],[77,0,-24],[77,17,-17],[77,24,0],[77,17,17]],t=[[0,1,12],[1,13,12],[1,2,13],[9,18,10],[10,18,19],[10,19,11],[1,0,4],[4,0,3],[2,1,5],[5,1,4],[7,6,10],[10,6,9],[8,7,11],[11,7,10],[4,3,14],[4,14,15],[5,4,15],[6,7,16],[7,17,16],[7,8,17],[14,17,15],[14,16,17],[3,0,14],[0,12,14],[16,9,6],[18,9,16],[2,5,15],[2,15,13],[17,8,11],[17,11,19],[20,12,13],[20,13,21],[21,13,15],[21,15,22],[22,15,17],[22,17,23],[23,17,19],[23,19,24],[24,19,18],[24,18,25],[25,18,16],[25,16,26],[26,16,14],[26,14,27],[27,14,12],[27,12,20]],new i.CustomGeometry(e,t)},R=function(){var t;return t=new i.BoxGeometry(10,50,550),t.applyMatrix(H(82,0,250)),t.merge(j(),H(0,0,0)),t.merge(j(),H(0,0,500)),t.applyMatrix(H(0,0,0,"X",-1)),t},M=function(t){var e;return e=A(p,f,t-150),e.applyMatrix(H(75,0,0,"Y",1)),e.merge(j()),e.merge(j(),H(t,0,0,"Z",2)),e.applyMatrix(H(0,0,0,"X",-1)),e},S=function(t){var e,n,r,o,a,s,u;for(a=A(p,f,t-150),a.applyMatrix(H(75,0,0,"Y",1)),a.merge(j()),a.merge(j(),H(t,0,0,"Z",2)),o=new i.CurvePath,o.add(new i.LineCurve3(new i.Vector3(0,0,0),new i.Vector3(200,100,0))),o.add(new i.LineCurve3(new i.Vector3(200,100,0),new i.Vector3(t-350,100,0))),o.add(new i.LineCurve3(new i.Vector3(t-350,100,0),new i.Vector3(t-150,0,0))),s=O(.6*p,.6*f,o),s.applyMatrix(H(75,0,0,"X",-1)),a.merge(s),n=r=500,u=t-1;r<=u;n=r+=500)e=new i.BoxGeometry(100,100,5),e.applyMatrix(H(n,0,-50,"X",1)),a.merge(e);return a.applyMatrix(H(0,0,0,"X",-1)),a},V=function(){return A(d,p,v)},N=function(){var t;return t=A(45,30,400),t.applyMatrix(H(0,0,-200)),t},E=function(t,e){var n,r,o,a;for(null==e&&(e=1),a=new i.Geometry,a.merge(L(t),H(0,0,100)),
n=r=500,o=t;r<=o;n=r+=500)a.merge(V(),H(0,0,n));return 1===e&&a.merge(N(),H(0,0,t)),a.applyMatrix(H(0,0,0,"X",-1)),a},l=function(t,e,n,r,o){var a;return a=B(10*t),a.merge(new i.BoxGeometry(100,100,5)),a.merge(new i.BoxGeometry(120,40,10),H(0,0,70,"Z",.5)),parseInt(o)<0||o&&"n"===o[0]||"-"===o?a.applyMatrix(H(10*e,10*n+175,10*r,"X",1)):a.applyMatrix(H(10*e,10*n-144,10*r,"X",-1)),a},m=function(t,e,n,r,i){var o,a,s,u,l,c,h;if(o=0,l=1,i)for(u=i.split(","),a=0,s=u.length;a<s;a++)c=u[a],(parseInt(c)<0||c&&"n"===c[0]||"-"===c)&&(o=2),"o"===c[0]&&(l=0);return h=E(10*t,l),h.applyMatrix(H(10*e,10*n,10*r,"X",o)),h},h=function(t,e,n,r,i){var o;switch(o=M(10*t),i){case"X":i=0;break;case"Y":i=1;break;case"-X":i=2;break;case"-Y":i=3;break;default:return}return o.applyMatrix(H(10*e,10*n,10*r,"Y",-i)),o},u=function(t,e,n,r,i){var o;switch(o=S(10*t),i){case"X":i=0;break;case"Y":i=1;break;case"-X":i=2;break;case"-Y":i=3;break;default:return}return o.applyMatrix(H(10*e,10*n,10*r,"Y",-i)),o},g=function(t,e,n,r,i,o,a){var s,u;switch(s=-1,o){case"X":o=0;break;case"Y":o=1;break;case"-X":o=2;break;case"-Y":o=3;break;default:return}return s=1===o||2===o?1:-1,(parseInt(a)<0||a&&"n"===a[0]||"-"===a)&&(s*=-1),u=k(10*t,s,10*e),u.applyMatrix(H(0,0,0,"X",-1)),u.applyMatrix(H(0,0,0,"Y",-o)),u.applyMatrix(H(10*n,10*r,10*i)),u},n=function(t,e,n,r,o,a){var s,u,l,c,h,p,f;for(u=new i.Geometry,a=a.split("/"),h=0,f=a[0],a.length>=2&&parseInt(a[1])&&(h=parseInt(a[1])),p=f.split(","),l=0,c=p.length;l<c;l++)s=p[l],u.merge(x(10*t,10*s,h)),h+=10*s+5;switch(o){case"X":u.applyMatrix(H(10*e+10*t,10*n,10*r,"Y",-1));break;case"Y":u.applyMatrix(H(10*e,10*n,10*r));break;case"-X":u.applyMatrix(H(10*e,10*n,10*r,"Y",1));break;case"-Y":u.applyMatrix(H(10*e,10*n,10*r+10*t,"Y",2))}return u},c=function(t,e,n,r){var i;switch(i=R(),r){case"X":r=0;break;case"Y":r=1;break;case"-X":r=2;break;case"-Y":r=3;break;default:return}return i.applyMatrix(H(10*t,10*e,10*n,"Y",-r)),i},e=function(t,e,n){var r;return r=_(),r.applyMatrix(H(10*t,10*e,10*n)),r},t.prototype.getGeometry=function(t){var r,o,a,s,p,f;switch(a=t.get("element"),p=t.get("x"),f=t.get("y"),o=t.get("h"),r=t.get("direction"),s=t.get("special"),a){case"AnfSt":return e(p,o,f);case"V50":return m(50,p,o,f,s);case"V100":return m(100,p,o,f,s);case"V150":return m(150,p,o,f,s);case"V200":return m(200,p,o,f,s);case"V300":return m(300,p,o,f,s);case"V400":return m(400,p,o,f,s);case"R25":return h(25,p,o,f,r);case"R50":return h(50,p,o,f,r);case"R100":return h(100,p,o,f,r);case"R200":return h(200,p,o,f,r);case"R300":return h(300,p,o,f,r);case"DR100":return u(100,p,o,f,r);case"DR200":return u(200,p,o,f,r);case"DR300":return u(300,p,o,f,r);case"D100":return g(100,200,p,o,f,r,s);case"D150":return g(150,200,p,o,f,r,s);case"D200":return g(200,200,p,o,f,r,s);case"D300":return g(300,200,p,o,f,r,s);case"DS200":return g(200,100,p,o,f,r,s);case"F40":return l(40,p,o,f,s);case"F60":return l(40,p,o,f,s);case"B100":return n(100,p,o,f,r,s);case"B200":return n(200,p,o,f,r,s);case"B300":return n(300,p,o,f,r,s);case"HV":return c(p,o,f,r);default:return new i.Geometry}},t}(),t.exports=r},function(t,e,n){var r,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(2),i=n(20),t.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.dataTable=null,e.prototype.fetched=!1,e.prototype.fields={show:{name:"Anzeige"},color:{name:"Farbe"},element:{name:"Bauteil"},x:{name:"X"},y:{name:"Y"},h:{name:"H"},direction:{name:"Richtung"},special:{name:"Besonderheit"}},e.prototype.determineColumn=function(t){return/^\s?(Element|Bauteil)\s$/i.test(t)?"element":/^\s?(Richtung)\s?$/i.test(t)?"direction":/^\s?(Besonderheit)\s(.*)?$/i.test(t)?"special":/^(Anzeige\s)?(Anzeige)$/i.test(t)?"show":/^(Position)?\s?(X)$/i.test(t)?"x":/^(Position)?\s?(Y)$/i.test(t)?"y":/^(Position)?\s?(H)$/i.test(t)?"h":/^(Anzeige)?\s?(Farbe)$/i.test(t)?"color":null},e.prototype.idAttribute="sheet",e.prototype.initialize=function(t,e){return this.app=e.collection.app,this.elements=new i([],{app:this.app})},e.prototype.setSelected=function(t){return this.collection.setSelected(this),this.fetched?t?t(this):void 0:this.fetch({success:function(e){return function(){if(e.fetched=!0,t)return t(e)}}(this)})},e.prototype.parse=function(t){var e,n,r,o,a,s,u,l,c,h,p,f,d,v;for(this.dataTable=t.getDataTable(),r={},n={},e=l=0,f=this.dataTable.getNumberOfColumns();0<=f?l<f:l>f;e=0<=f?++l:--l)o=this.determineColumn(this.dataTable.getColumnLabel(e)),o&&(r[o]=e,n[o]=!0);d=this.fields;for(u in d)if(e=d[u],null==n[u])return void console.log("Spalte '"+e.name+"' nicht gefunden!");for(s=[],p=c=0,v=this.dataTable.getNumberOfRows();0<=v?c<v:c>v;p=0<=v?++c:--c){a={};for(h in r)e=r[h],a[h]=this.dataTable.getValue(p,e);s.push(a)}return console.log("Construction: loaded element list: ",s),{elements:new i(s,{app:this.app})}},e}(r.Model)},function(t,e,n){var r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=n(2),t.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.app=null,e.prototype.geometry=null,e.prototype.initialize=function(t,n){return e.__super__.initialize.call(this,t,n),this.app=n.collection.app,this.geometry=this.app.egsElementProvider.getGeometry(this)},e}(r.Model)},function(t,e,n){var r,i,o,a=function(t,e){return function(){return t.apply(e,arguments)}};r=n(2),o=n(7),t.exports=i=function(){function t(t){this.app=t,this.save=a(this.save,this),this.reset=a(this.reset,this),this.saveButton.addEventListener("click",this.save),this.cancelButton.addEventListener("click",this.cancel),this.resetButton.addEventListener("click",this.reset)}return t.prototype.modal=document.getElementById("dataSourceModal"),t.prototype.inputField=document.getElementById("dataSourceModal-input"),t.prototype.saveButton=document.getElementById("dataSourceModal-save"),t.prototype.cancelButton=document.getElementById("dataSourceModal-cancel"),t.prototype.resetButton=document.getElementById("dataSourceModal-reset"),t.prototype.errorBanner=document.getElementById("dataSourceModal-error"),t.prototype.reset=function(t){return this.inputField.value=App.defaultSource},t.prototype.save=function(t){var e;return e=o(this.inputField.value,!0),e?(this.errorBanner.style.display="none",this.app.navigate(e.join("/"),{trigger:!0})):(this.errorBanner.style.display="",t.preventDefault(),t.stopPropagation())},t}()},function(t,e,n){var r,i,o,a,s,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,h=function(t,e){return function(){return t.apply(e,arguments)}};r=n(2),u=n(6),s=n(14)(u),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.parent=null,e.prototype.mesh=null,e.prototype.color=null,e.prototype.display=null,e.prototype.parseNum=function(t){var e,n,r,i,o,a,s,u;if(!t)return[];for(i=[],a=String(t).split(","),n=0,r=a.length;n<r;n++)s=a[n],u=s.split(":"),o=u[0].split("-"),e=2===u.length?u[1]:null,""===o[0]&&(o[0]=null),1===o.length&&(o[1]=o[0]),""===o[1]&&(o[1]=null),o[0]>=0&&i.push([o[0],o[1],e]);return i},e.prototype.initialize=function(t){var e,n,r,i,o,a,s,l,c;for(this.parent=t.parent,this.model.geometry.computeBoundingBox(),this.color=this.parent.getAndStoreColor(this.model.get("color")),this.mesh=new u.Mesh(this.model.geometry,this.color),this.mesh.visible=!1,this.display=[],s=this.parseNum(this.model.get("show")),c=[],r=0,o=s.length;r<o;r++){for(e=s[r],l=[0,1],i=0,a=l.length;i<a;i++)n=l[i],null!==e[n]&&(e[n]=parseInt(e[n]),this.parent.steps.push(e[n]));e[2]=null===e[2]?this.color:this.parent.getAndStoreColor(e[2]),c.push(this.display.push(e))}return c},e.prototype.getMesh=function(){return this.mesh},e.prototype.setStep=function(t){var e,n;n=null;for(e in this.display)null!==this.display[e][0]&&null!==this.display[e][1]?t>=this.display[e][0]&&t<=this.display[e][1]&&(n=this.display[e][2]):null!==this.display[e][0]?t>=this.display[e][0]&&(n=this.display[e][2]):null!==this.display[e][1]&&t<=this.display[e][1]&&(n=this.display[e][2]);return this.mesh.visible=null!==n,this.mesh.material=n?n:this.color},e}(r.View),i=function(){function t(t){this.domElementID=t,this.onWindowResize=h(this.onWindowResize,this),this.scene=new u.Scene,this._addRenderer(this.domElementID),this._addLights(),this._addCamera(),this._addControls(),this.onWindowResize(),this._animationStart()}return t.prototype.center=new u.Vector3,t.prototype.bbox=new u.Box3,t.prototype.startTime=null,t.prototype.turnRate=0,t.prototype.turnOffset=0,t.prototype.camDistance=0,t.prototype.camDistanceOffset=0,t.prototype.camHeight=0,t.prototype.camHeightOffset=0,t.prototype.scene=null,t.prototype.renderer=null,t.prototype.camera=null,t.prototype.controls=null,t.prototype.animationRequest=null,t.prototype._addRenderer=function(t){var e,n;n=!1;try{e=document.createElement("canvas"),n=!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){}return n?this.renderer=new u.WebGLRenderer({antialias:!0}):this.renderer=new u.CanvasRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),document.getElementById(t).appendChild(this.renderer.domElement)},t.prototype._addLights=function(){var t,e;return e=new u.HemisphereLight(16777215,16777215,.6),e.color.setHSL(.6,1,.6),e.groundColor.setHSL(.095,1,.75),e.position.set(0,500,0),this.scene.add(e),t=new u.DirectionalLight(16777215,1),t.color.setHSL(.1,1,.95),t.position.set(-5e3,1e4,-5e3),t.position.multiplyScalar(50),this.scene.add(t)},t.prototype._addCamera=function(){var t,e;return e=window.innerWidth,t=window.innerHeight,this.camera=new u.PerspectiveCamera(70,e/t,1,2e5)},t.prototype._addControls=function(){return this.controls=new s(this.camera,this.renderer.domElement),this.controls.zoomSpeed=.3,this.controls.rotateSpeed=.3},t.prototype.onWindowResize=function(){var t,e,n;if(this.camera)return e=getComputedStyle(document.getElementById(this.domElementID),null),n=parseInt(e.getPropertyValue("width")),t=parseInt(e.getPropertyValue("height")),this.camera.aspect=n/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,t)},t.prototype._animationStart=function(){if(this.scene)return this.animationRequest?void 0:this._animationFrame()},t.prototype._animationStop=function(){return this.animationRequest&&window.cancelAnimationFrame(this.animationRequest),this.animationRequest=null},t.prototype._animationFrame=function(){return this.animationRequest=window.requestAnimationFrame(function(t){return function(){return t._animationFrame()}}(this)),this.calcCamPos(),this.renderer.render(this.scene,this.camera)},t.prototype.resetView=function(){var t,e;return this.center=this.bbox.center(),e=this.bbox.size(),t=this.camera.fov/180*Math.PI*80/100,this.camDistance=Math.max.apply(Math,[e.y/2*Math.tan(t)+Math.sqrt(e.x*e.x/4+e.z*e.z/4),e.y/2*Math.tan(t)+e.z/2,e.y/2*Math.tan(t)+e.x/2,e.x/2*Math.tan(t)/this.camera.aspect+e.z/2,e.z/2*Math.tan(t)/this.camera.aspect+e.x/2]),this.camHeight=this.center.y,this.controls.target.copy(this.center)},t.prototype.removeAll=function(){for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);return this._addLights(),this.bbox=new u.Box3},t.prototype.add=function(t){return this.scene.add(t.getMesh()),this.bbox.union(t.model.geometry.boundingBox),this.resetView()},t.prototype.setTurnRate=function(t){var e;return e=Date.now()-this.startTime,this.turnOffset=this.turnOffset+e/(6e4/this.turnRate),this.startTime=Date.now(),this.controls.enableZoom=0===t,this.controls.enablePan=0===t,this.controls.enableRotate=0===t,this.turnRate=t,this.calcCamPos(!0)},t.prototype.setHeight=function(t,e){return this.camHeight=function(){switch(e){case"abs":return 10*t;case"incr":return this.camHeight+10*t;case"rel":return 2*this.center.y*t;default:return this.camHeight}}.call(this)},t.prototype.calcCamPos=function(t){var e,n;if(t)n=this.turnOffset;else{if(0===this.turnRate)return;e=Date.now()-this.startTime,n=this.turnOffset+e/(6e4/this.turnRate)}return this.camera.position.x=this.center.x+Math.sin(2*Math.PI*n)*(this.camDistance+this.camDistanceOffset),this.camera.position.y=this.camHeight,this.camera.position.z=this.center.z+Math.cos(2*Math.PI*n)*(this.camDistance+this.camDistanceOffset),this.camera.lookAt(this.center)},t}(),a=function(t){function e(t,e){this.app=t,this.domElementID=e,this.display=new i(this.domElementID)}var n,r;return l(e,t),e.prototype.elements=[],e.prototype.steps=[],e.prototype.stepNo=0,r=[],e.prototype.setTurnRate=function(t){return this.display.setTurnRate(Math.max(0,t))},e.prototype.setHeight=function(t,e){return this.display.setHeight(t,e)},e.prototype.resetView=function(){return this.display.resetView()},e.prototype.showConstruct=function(t){var e,n,r,i;for(this.elements=[],this.steps=[],t.get("elements").each(function(t){return function(e){return t.elements.push(new o({model:e,parent:t}))}}(this)),this.steps=this.steps.filter(function(t,e,n){return e===n.indexOf(t)}),this.steps.sort(function(t,e){return t-e}),this.app.view.SecondaryNav.setSteps(this.steps),this.display.removeAll(),i=this.elements,n=0,r=i.length;n<r;n++)e=i[n],this.display.add(e);return this.updateConstruct(this.stepNo)},e.prototype.updateConstruct=function(t){var e,n,r,i;for(this.stepNo=t,i=this.elements,n=0,r=i.length;n<r;n++)e=i[n],e.setStep(parseInt(this.steps[this.stepNo]));return this.render()},n=function(t){var e,n;return e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(t),e?(parseInt(e[1],16)<<16)+(parseInt(e[2],16)<<8)+parseInt(e[3],16):n?(17*parseInt(n[1],16)<<16)+(17*parseInt(n[2],16)<<8)+17*parseInt(n[3],16):8947848},e.prototype.getAndStoreColor=function(t){return null==r[t]&&(r[t]=new u.MeshPhongMaterial({color:n(t),emissive:0,specular:0,shininess:30})),r[t]},e}(r.View),t.exports=a},function(t,e,n){var r;r=n(2),t.exports=r.View.extend({el:document.getElementById("primaryNav"),template:n(30),activeConstructionList:null,initialize:function(t){return this.dataSourceList=t,this.listenTo(this.dataSourceList,"select",function(){return this.activeConstructionList&&this.stopListening(this.activeConstructionList),this.activeConstructionList=null,this.render("loading","unset")}),this.listenTo(this.dataSourceList,"sync",function(){return this.activeConstructionList=this.dataSourceList.selected.get("constructions"),this.listenTo(this.activeConstructionList,"select",function(){return this.render("loaded","loading")}),this.listenTo(this.activeConstructionList,"sync",function(){return this.render("loaded","loaded")}),this.render("loaded","unset")}),this.render("unset","unset")},render:function(t,e){var n,r,i;return null==t&&(t=0),null==e&&(e=0),i={},"loaded"===t&&(i.item=[],n=this.dataSourceList.selected.get("constructions"),r=null,n.each(function(t){return t===n.selected&&(r=t.get("name")),i.item.push({sheet:t.get("sheet"),name:t.get("name")})}),"unset"!==e?i.auswahl=""+r:i.auswahl=i.item.length+" Konstruktionen zur Auswahl"),"loading"!==t&&"loading"!==e||(i.loading=!0),this.el.innerHTML=this.template(i)}})},function(t,e,n){(function(e){var r,i=function(t,e){return(+t%(e=+e)+e)%e};r=n(2),t.exports=r.View.extend({el:document.getElementById("secondaryNav"),template:n(31),steps:[],step:0,counter:0,stepper:5,rotRate:2,events:{"click .step-rel":"stepRel","click .step-abs":"stepAbs","click .step-auto":"stepAuto","click .rot-incr":"rotationIncr","click .rot-setp":"rotationSetp","click .view-reset":"viewReset","click .height-incr":"heightIncr","click .height-setabs":"heightSetAbs","click .height-setrel":"heightSetRel"},heightIncr:function(t){return this.app.view.EGS&&this.app.view.EGS.setHeight(parseInt(t.target.dataset.incr),"incr"),this.update()},heightSetAbs:function(t){return this.app.view.EGS&&this.app.view.EGS.setHeight(parseInt(t.target.dataset.setabs),"abs"),this.update()},heightSetRel:function(t){return this.app.view.EGS&&this.app.view.EGS.setHeight(parseFloat(t.target.dataset.setrel),"rel"),this.update()},stepRel:function(t){return this.incrStep(t.target.dataset.step)},stepAbs:function(t){return this.setStep(t.target.dataset.step)},stepAuto:function(t){return this.stepper=parseInt(t.target.dataset.val),this.render()},rotationIncr:function(t){return this.rotRate+=parseFloat(t.target.dataset.incr),this.app.view.EGS&&this.app.view.EGS.setTurnRate(this.rotRate),this.update()},rotationSetp:function(t){return this.rotRate=parseFloat(t.target.dataset.setp),this.app.view.EGS&&this.app.view.EGS.setTurnRate(this.rotRate),this.update()},viewReset:function(t){return this.rotRate=2,this.app.view.EGS&&this.app.view.EGS.setTurnRate(this.rotRate),this.app.view.EGS&&this.app.view.EGS.resetView(),this.update()},startup:function(){return this.setStep(0),setInterval(function(t){return function(){return t.timeTrigger()}}(this),1e3),this.app.view.EGS.updateConstruct(this.step),this.app.view.EGS.setTurnRate(this.rotRate)},setSteps:function(t){return this.steps=t,this.step=0,this.render()},incrStep:function(t){return t=parseInt(t),this.step+t<0?this.setStep(this.step+this.steps.length+t):this.step+t>=this.steps.length?this.setStep(this.step-this.steps.length+t):this.setStep(this.step+t)},setStep:function(t){return this.step=parseInt(t),console.log("Aufbauschritt: "+this.steps[this.step]+" (index: "+this.step+")"),this.app.view.EGS&&this.app.view.EGS.updateConstruct(this.step),this.update()},timeTrigger:function(){if(this.stepper&&0===i(++this.counter,this.stepper))return this.incrStep(1)},initialize:function(t){return this.app=t,this.render()},update:function(){return e("#stepNo",this.$el).text(this.steps[this.step]),e(".steps li",this.$el).removeClass("active"),e(".step-"+this.step,this.$el).addClass("active"),e(".rots li",this.$el).removeClass("active"),e(".rot-"+this.rotRate,this.$el).addClass("active")},render:function(){var t,e,n;e=[];for(t in this.steps)e.push({i:t,name:"Schritt "+this.steps[t]});return n={steps:e,step:this.step,stepName:this.steps[this.step],auto:this.stepper,rotMode:this.rotRate>0?this.rotRate+" U/min":"Manuell",rate:this.rotRate},this.el.innerHTML=this.template(n)}})}).call(e,n(4))},,,function(t,e,n){var r=n(13);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t<li class="sourceLoader navbar-text">\n\t\tKonstruktion: \n\t</li>\n\t<li class="sourceDisplay dropdown">\n\t\t<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> '+t.escapeExpression((a=null!=(a=u(n,"auswahl")||(null!=e?u(e,"auswahl"):e))?a:t.hooks.helperMissing,"function"==typeof a?a.call(s,{name:"auswahl",hash:{},data:i,loc:{start:{line:7,column:119},end:{line:7,column:132}}}):a))+' <span class="caret"></span></a>\n\t\t<ul id="constructionList" class="dropdown-menu">\n'+(null!=(o=u(n,"each").call(s,null!=e?u(e,"item"):e,{name:"each",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i,loc:{start:{line:9,column:3},end:{line:11,column:12}}}))?o:"")+"\t\t</ul>\n\t</li>\n"+(null!=(o=u(n,"if").call(s,null!=e?u(e,"loading"):e,{name:"if",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i,loc:{start:{line:14,column:1},end:{line:23,column:8}}}))?o:"")},2:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",l=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t<li><a href="#'+l((o=null!=(o=c(n,"sheet")||(null!=e?c(e,"sheet"):e))?o:s,typeof o===u?o.call(a,{name:"sheet",hash:{},data:i,loc:{start:{line:10,column:17},end:{line:10,column:28}}}):o))+'">'+l((o=null!=(o=c(n,"name")||(null!=e?c(e,"name"):e))?o:s,typeof o===u?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:10,column:30},end:{line:10,column:40}}}):o))+"</a></li>\n"},4:function(t,e,n,r,i){return'\t<li class="sourceLoader navbar-text spinner">\n\t\t<div class="bounce1"></div>\n\t\t<div class="bounce2"></div>\n\t\t<div class="bounce3"></div>\n\t</li>\n\t<li class="sourceLoader navbar-text">\n\t\twird geladen...\n\t</li>\n'},6:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"loading"):e,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.program(9,i,0),data:i,loc:{start:{line:25,column:1},end:{line:38,column:8}}}))?o:""},7:function(t,e,n,r,i){return'\t<li class="sourceLoader navbar-text spinner">\n\t\t<div class="bounce1"></div>\n\t\t<div class="bounce2"></div>\n\t\t<div class="bounce3"></div>\n\t</li>\n\t<li class="sourceLoader navbar-text">\n\t\tKonstuktionen werden geladen...\n\t</li>\n'},9:function(t,e,n,r,i){return'\t<li class="navbar-text">\n\t\t<b class="text-danger">Keine Datenquelle ausgew√§hlt!</b>\n\t</li>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<ul class="nav navbar-nav navbar-left">\n'+(null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"item"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(6,i,0),data:i,loc:{start:{line:2,column:1},end:{line:39,column:8}}}))?o:"")+'</ul>\n<form class="navbar-form navbar-right" role="search">\n\t<button type="button" class="btn btn-default" data-toggle="modal" data-target="#dataSourceModal">Datenquelle wechseln</button>\n</form>\n'},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(13);t.exports=(i.default||i).template({1:function(t,e,n,r,i){return""},3:function(t,e,n,r,i){return" active"},5:function(t,e,n,r,i){return"active"},7:function(t,e,i,o,a,s,u){var l,c=t.lambda,h=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t\t\t<li class="step-'+h(c(null!=e?p(e,"i"):e,e))+(null!=(l=r(n(1)).call(null!=e?e:t.nullContext||{},null!=u[1]?p(u[1],"step"):u[1],null!=e?p(e,"i"):e,{name:"cmp",hash:{},fn:t.program(3,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:26,column:27},end:{line:26,column:60}}}))?l:"")+'"><a class="step-abs" data-step="'+h(c(null!=e?p(e,"i"):e,e))+'">'+h(c(null!=e?p(e,"name"):e,e))+"</a></li>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,i,o,a,s,u){var l,c=null!=e?e:t.nullContext||{},h=t.lambda,p=t.escapeExpression,f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<ul class="nav navbar-nav navbar-left">\n\t<li class="navbar-text">\n\t\tAufbauschritte:\n\t</li>\n\t<li>\n\t\t<div class="btn-group" role="group">\n\t\t\t<button type="button" class="step-rel btn btn-info navbar-btn" data-step="-1">&lt;</button>\n\t\t\t<div class="btn-group dropup" role="group">\n\t\t\t\t<button type="button" class="btn btn-info navbar-btn dropdown-toggle'+(null!=(l=r(n(1)).call(c,null!=e?f(e,"auto"):e,"0",{name:"cmp",hash:{},fn:t.program(1,a,0,s,u),inverse:t.program(3,a,0,s,u),data:a,loc:{start:{line:9,column:72},end:{line:9,column:112}}}))?l:"")+'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\tAutomatisch <span class="caret"></span>\n\t\t\t\t</button>\n\t\t\t\t<ul class="dropdown-menu">\n\t\t\t\t\t<li class="'+(null!=(l=r(n(1)).call(c,null!=e?f(e,"auto"):e,"0",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:13,column:16},end:{line:13,column:47}}}))?l:"")+'"><a class="step-auto" data-val="0">aus</a></li>\n\t\t\t\t\t<li class="'+(null!=(l=r(n(1)).call(c,null!=e?f(e,"auto"):e,"1",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:14,column:16},end:{line:14,column:47}}}))?l:"")+'"><a class="step-auto" data-val="1">1 Sekunde</a></li>\n\t\t\t\t\t<li class="'+(null!=(l=r(n(1)).call(c,null!=e?f(e,"auto"):e,"2",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:15,column:16},end:{line:15,column:47}}}))?l:"")+'"><a class="step-auto" data-val="2">2 Sekunden</a></li>\n\t\t\t\t\t<li class="'+(null!=(l=r(n(1)).call(c,null!=e?f(e,"auto"):e,"5",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:16,column:16},end:{line:16,column:47}}}))?l:"")+'"><a class="step-auto" data-val="5">5 Sekunden</a></li>\n\t\t\t\t\t<li class="'+(null!=(l=r(n(1)).call(c,null!=e?f(e,"auto"):e,"10",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:17,column:16},end:{line:17,column:48}}}))?l:"")+'"><a class="step-auto" data-val="10">10 Sekunden</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="btn-group dropup" role="group">\n\t\t\t\t<button type="button" class="btn btn-info navbar-btn dropdown-toggle'+(null!=(l=r(n(1)).call(c,null!=e?f(e,"auto"):e,"0",{name:"cmp",hash:{},fn:t.program(3,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:21,column:72},end:{line:21,column:104}}}))?l:"")+'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\tSchritt <span id="stepNo">'+p(h(null!=e?f(e,"stepName"):e,e))+'</span> <span class="caret"></span>\n\t\t\t\t</button>\n\t\t\t\t<ul class="dropdown-menu steps">\n'+(null!=(l=f(i,"each").call(c,null!=e?f(e,"steps"):e,{name:"each",hash:{},fn:t.program(7,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:25,column:5},end:{line:27,column:14}}}))?l:"")+'\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<button type="button" class="step-rel btn btn-info navbar-btn" data-step="1">&gt;</button>\n\t\t</div>\n\t</li>\n\t<li class="navbar-text">\n\t\tAnsicht:\n\t</li>\n\t<li>\n\t\t<div class="btn-group" role="group">\n\t\t\t<button type="button" class="rot-incr btn btn-info navbar-btn" data-incr="-.25">-</button>\n\t\t\t<div class="btn-group dropup" role="group">\n\t\t\t\t<button type="button" class="btn btn-info navbar-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\tRotation <!--<span id="rotMode">'+p(h(null!=e?f(e,"rotMode"):e,e))+'</span> --><span class="caret"></span>\n\t\t\t\t</button>\n\t\t\t\t<ul class="dropdown-menu rots">\n\t\t\t\t\t<li class="rot-0 '+(null!=(l=r(n(1)).call(c,null!=e?f(e,"rate"):e,"0",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:44,column:22},end:{line:44,column:53}}}))?l:"")+'"><a class="rot-setp" data-setp="0">Manuell</a></li>\n\t\t\t\t\t<li class="rot-1 '+(null!=(l=r(n(1)).call(c,null!=e?f(e,"rate"):e,"1",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:45,column:22},end:{line:45,column:53}}}))?l:"")+'"><a class="rot-setp" data-setp="1">1 U/min</a></li>\n\t\t\t\t\t<li class="rot-2 '+(null!=(l=r(n(1)).call(c,null!=e?f(e,"rate"):e,"2",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:46,column:22},end:{line:46,column:53}}}))?l:"")+'"><a class="rot-setp" data-setp="2">2 U/min</a></li>\n\t\t\t\t\t<li class="rot-3 '+(null!=(l=r(n(1)).call(c,null!=e?f(e,"rate"):e,"3",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:47,column:22},end:{line:47,column:53}}}))?l:"")+'"><a class="rot-setp" data-setp="3">3 U/min</a></li>\n\t\t\t\t\t<li class="rot-5 '+(null!=(l=r(n(1)).call(c,null!=e?f(e,"rate"):e,"5",{name:"cmp",hash:{},fn:t.program(5,a,0,s,u),inverse:t.noop,data:a,loc:{start:{line:48,column:22},end:{line:48,column:53}}}))?l:"")+'"><a class="rot-setp" data-setp="5">5 U/min</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<button type="button" class="rot-incr btn btn-info navbar-btn" data-incr=".25">+</button>\n\t\t</div>\n\t\t&nbsp;\n\t</li>\n\t<li>\n\t\t<div class="btn-group" role="group">\n\t\t\t<button type="button" class="height-incr btn btn-info navbar-btn" data-incr="-50">-</button>\n\t\t\t<div class="btn-group dropup" role="group">\n\t\t\t\t<button type="button" class="btn btn-info navbar-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\tH√∂he <span class="caret"></span>\n\t\t\t\t</button>\n\t\t\t\t<ul class="dropdown-menu heights">\n\t\t\t\t\t<li class=""><a class="height-setrel" data-setrel="1.5">Oberkante + 50 %</a></li>\n\t\t\t\t\t<li class=""><a class="height-setrel" data-setrel="1">Oberkante</a></li>\n\t\t\t\t\t<li class=""><a class="height-setrel" data-setrel="0.5">Mitte</a></li>\n\t\t\t\t\t<li class=""><a class="height-setabs" data-setabs="157">Mensch</a></li>\n\t\t\t\t\t<li class=""><a class="height-setrel" data-setrel="0">Unterkante</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<button type="button" class="height-incr btn btn-info navbar-btn" data-incr="50">+</button>\n\t\t</div>\n\t\t&nbsp;\n\t</li>\n\t<li>\n\t\t<div class="btn-group" role="group">\n\t\t\t<button type="button" class="btn btn-info navbar-btn view-reset">Reset</button>\n\t\t</div>\n\t</li>\n</ul>\n'},useData:!0,useDepths:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(){var t=new s.HandlebarsEnvironment;return f.extend(t,s),t.SafeString=l.default,t.Exception=h.default,t.Utils=f,t.escapeExpression=f.escapeExpression,t.VM=v,t.template=function(e){return v.template(e,t)},t}e.__esModule=!0;var a=n(9),s=i(a),u=n(46),l=r(u),c=n(5),h=r(c),p=n(3),f=i(p),d=n(45),v=i(d),g=n(44),m=r(g),y=o();y.create=o,m.default(y),y.default=y,e.default=y,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){a.default(t)}e.__esModule=!0,e.registerDefaultDecorators=i;var o=n(34),a=r(o)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e.default=function(t){t.registerDecorator("inline",function(t,e,n,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,e.partials);var s=t(i,o);return n.partials=a,s}),e.partials[i.args[0]]=i.fn,o})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,o=n.fn;if(e===!0)return o(this);if(e===!1||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(e,n)})},t.exports=e.default},function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(3),a=n(5),s=i(a);e.default=function(t){t.registerHelper("each",function(t,e){function n(e,n,r){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!r,h&&(c.contextPath=h+e)),l+=i(t[e],{data:c,blockParams:o.blockParams([t[e],e],[h+e,null])})}if(!e)throw new s.default("Must pass iterator to #each");var i=e.fn,a=e.inverse,u=0,l="",c=void 0,h=void 0;if(e.data&&e.ids&&(h=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(c=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var p=t.length;u<p;u++)u in t&&n(u,u,u===t.length-1);else if(r.Symbol&&t[r.Symbol.iterator]){for(var f=[],d=t[r.Symbol.iterator](),v=d.next();!v.done;v=d.next())f.push(v.value);t=f;for(var p=t.length;u<p;u++)n(u,u,u===t.length-1)}else!function(){var e=void 0;Object.keys(t).forEach(function(t){void 0!==e&&n(e,u-1),e=t,u++}),void 0!==e&&n(e,u-1,!0)}();return 0===u&&(l=a(this)),l})},t.exports=e.default}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(5),o=r(i);e.default=function(t){t.registerHelper("helperMissing",function(){
if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(3),o=n(5),a=r(o);e.default=function(t){t.registerHelper("if",function(t,e){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e,n){return t?n.lookupProperty(t,e):t})},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(3),o=n(5),a=r(o);e.default=function(t){t.registerHelper("with",function(t,e){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&(r=i.createFrame(e.data),r.contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.extend.apply(void 0,[Object.create(null)].concat(e))}e.__esModule=!0,e.createNewLookupObject=r;var i=n(3)},function(t,e){"use strict";function n(t,e){if("function"!=typeof t)return t;var n=function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=e(n),t.apply(this,arguments)};return n}e.__esModule=!0,e.wrapHelper=n},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e="undefined"!=typeof n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){var e=t&&t[0]||1,n=b.COMPILER_REVISION;if(!(e>=b.LAST_COMPATIBLE_COMPILER_REVISION&&e<=b.COMPILER_REVISION)){if(e<b.LAST_COMPATIBLE_COMPILER_REVISION){var r=b.REVISION_CHANGES[n],i=b.REVISION_CHANGES[e];throw new y.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new y.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function a(t,e){function n(n,r,i){i.hash&&(r=g.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,i);var o=g.extend({},i,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),a=e.VM.invokePartial.call(this,n,r,o);if(null==a&&e.compile&&(i.partials[i.name]=e.compile(n,t.compilerOptions,e),a=i.partials[i.name](r,o)),null!=a){if(i.indent){for(var s=a.split("\n"),u=0,l=s.length;u<l&&(s[u]||u+1!==l);u++)s[u]=i.indent+s[u];a=s.join("\n")}return a}throw new y.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(e){function n(e){return""+t.main(o,e,o.helpers,o.partials,a,u,s)}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=i.data;r._setup(i),!i.partial&&t.useData&&(a=h(e,a));var s=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(s=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(n=p(t.main,n,o,i.depths||[],a,u))(e,i)}if(!e)throw new y.default("No environment passed to template");if(!t||!t.main)throw new y.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i=t.compiler&&7===t.compiler[0],o={strict:function(t,e,n){if(!(t&&e in t))throw new y.default('"'+e+'" not defined in '+t,{loc:n});return t[e]},lookupProperty:function(t,e){var n=t[e];return null==n?n:Object.prototype.hasOwnProperty.call(t,e)?n:x.resultIsAllowed(n,o.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r]&&o.lookupProperty(t[r],e);if(null!=i)return t[r][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:g.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var o=this.programs[t],a=this.fn(t);return e||i||r||n?o=s(this,t,a,e,n,r,i):o||(o=this.programs[t]=s(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=g.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(n){if(n.partial)o.protoAccessControl=n.protoAccessControl,o.helpers=n.helpers,o.partials=n.partials,o.decorators=n.decorators,o.hooks=n.hooks;else{var r=g.extend({},e.helpers,n.helpers);f(r,o),o.helpers=r,t.usePartial&&(o.partials=o.mergeIfNeeded(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=g.extend({},e.decorators,n.decorators)),o.hooks={},o.protoAccessControl=x.createProtoAccessControl(n);var a=n.allowCallsToHelperMissing||i;w.moveHelperToHooks(o,"helperMissing",a),w.moveHelperToHooks(o,"blockHelperMissing",a)}},r._child=function(e,n,r,i){if(t.useBlockParams&&!r)throw new y.default("must pass block params");if(t.useDepths&&!i)throw new y.default("must pass parent depths");return s(o,e,t[e],n,0,r,i)},r}function s(t,e,n,r,i,o,a){function s(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(s=[e].concat(a)),n(t,e,t.helpers,t.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return s=p(n,s,t,a,r,o),s.program=e,s.depth=a?a.length:0,s.blockParams=i||0,s}function u(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function l(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==c&&!function(){n.data=b.createFrame(n.data);var t=n.fn;i=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=b.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=g.extend({},n.partials,t.partials))}(),void 0===t&&i&&(t=i),void 0===t)throw new y.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function c(){return""}function h(t,e){return e&&"root"in e||(e=e?b.createFrame(e):{},e.root=t),e}function p(t,e,n,r,i,o){if(t.decorator){var a={};e=t.decorator(e,a,n,r&&r[0],i,o,r),g.extend(e,a)}return e}function f(t,e){Object.keys(t).forEach(function(n){var r=t[n];t[n]=d(r,e)})}function d(t,e){var n=e.lookupProperty;return _.wrapHelper(t,function(t){return g.extend({lookupProperty:n},t)})}e.__esModule=!0,e.checkRevision=o,e.template=a,e.wrapProgram=s,e.resolvePartial=u,e.invokePartial=l,e.noop=c;var v=n(3),g=i(v),m=n(5),y=r(m),b=n(9),w=n(10),_=n(43),x=n(11)},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},,,,,,,,,function(t,e,n){(function(t){t.ConvexGeometry=function(e){function n(t){var n=e[t].clone(),i=n.length();n.x+=i*a(),n.y+=i*a(),n.z+=i*a();for(var s=[],l=0;l<u.length;){var c=u[l];if(r(c,n)){for(var h=0;h<3;h++){for(var p=[c[h],c[(h+1)%3]],f=!0,d=0;d<s.length;d++)if(o(s[d],p)){s[d]=s[s.length-1],s.pop(),f=!1;break}f&&s.push(p)}u[l]=u[u.length-1],u.pop()}else l++}for(var d=0;d<s.length;d++)u.push([s[d][0],s[d][1],t])}function r(t,n){var r=e[t[0]],o=e[t[1]],a=e[t[2]],s=i(r,o,a),u=s.dot(r);return s.dot(n)>=u}function i(e,n,r){var i=new t.Vector3,o=new t.Vector3;return i.subVectors(r,n),o.subVectors(e,n),i.cross(o),i.normalize(),i}function o(t,e){return t[0]===e[1]&&t[1]===e[0]}function a(){return 2*(Math.random()-.5)*1e-6}function s(e){var n=e.length();return new t.Vector2(e.x/n,e.y/n)}t.Geometry.call(this);for(var u=[[0,1,2],[0,2,1]],l=3;l<e.length;l++)n(l);for(var c=0,h=new Array(e.length),l=0;l<u.length;l++)for(var p=u[l],f=0;f<3;f++)void 0===h[p[f]]&&(h[p[f]]=c++,this.vertices.push(e[p[f]])),p[f]=h[p[f]];for(var l=0;l<u.length;l++)this.faces.push(new t.Face3(u[l][0],u[l][1],u[l][2]));for(var l=0;l<this.faces.length;l++){var p=this.faces[l];this.faceVertexUvs[0].push([s(this.vertices[p.a]),s(this.vertices[p.b]),s(this.vertices[p.c])])}this.computeFaceNormals(),this.computeVertexNormals()},t.ConvexGeometry.prototype=Object.create(t.Geometry.prototype)}).call(e,n(6))},function(t,e){t.exports=google},function(t,e){t.exports=window}]);
//# sourceMappingURL=app.js.map